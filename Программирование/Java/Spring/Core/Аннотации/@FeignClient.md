# üìÑ **@FeignClient**

### üìù **–ß—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º –Ω—É–∂–Ω–æ**

`@FeignClient` ‚Äî —ç—Ç–æ [[Spring Cloud|—Ñ—Ä–µ–π–º–≤–æ—Ä–∫]] –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è HTTP-–∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ —Å—Ç–∏–ª–µ [[Declarative REST Client|–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ REST-–∫–ª–∏–µ–Ω—Ç–∞]] –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –Ω–∞ [[Java|Java]] —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ [[REST API|REST API]] –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –ø–∏—Å–∞—Ç—å –∫–æ–¥ –¥–ª—è [[HTTP Request|HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤]].  
–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å: —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤—ã –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏.

---

### ‚ö° **–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

- üìç –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å –º–µ—Ç–æ–¥–∞–º–∏, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ [[RequestMapping|@GetMapping, @PostMapping]], –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è Feign.
    
- üîë –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å [[Ribbon|–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–º]] ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏ —Å–µ—Ä–≤–∏—Å–∞.
    
- ‚ûï –ü–æ–¥–¥–µ—Ä–∂–∫–∞ [[Hystrix|—Ñ–æ–ª–±—ç–∫–æ–≤]] ‚Äî –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.
    
- ‚ûñ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö [[Decoder|–¥–µ–∫–æ–¥–µ—Ä–æ–≤]] –∏ [[Encoder|–∫–æ–¥–∏—Ä–æ–≤—â–∏–∫–æ–≤]] –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤.
    
- üîÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ retry-–º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–∞.
    
- üö´ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è REST-–∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å [[RestTemplate|HTTP-–∫–ª–∏–µ–Ω—Ç]].
    

---

### üìå **–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞**

```java
import org.springframework.cloud.openfeign.FeignClient; // –ü–æ–¥–∫–ª—é—á–∞–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é FeignClient
import org.springframework.web.bind.annotation.GetMapping; // –î–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ GET-–∑–∞–ø—Ä–æ—Å–æ–≤
import org.springframework.web.bind.annotation.PathVariable;

@FeignClient(name = "user-service", url = "http://localhost:8080") // –û–±–æ–∑–Ω–∞—á–∞–µ–º –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å
public interface UserClient { 
    @GetMapping("/users/{id}") // –ú–∞—Ä—à—Ä—É—Ç GET-–∑–∞–ø—Ä–æ—Å–∞
    UserDto getUserById(@PathVariable("id") Long id); // –ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω —á–µ—Ä–µ–∑ Feign
}
```

---

### üß† **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏**

- ‚ùó –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `@FeignClient` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å `@EnableFeignClients` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Spring Boot.
    
- üì¶ –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ–¥–µ—Ä–æ–≤/–¥–µ–∫–æ–¥–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ `configuration` –∞—Ç—Ä–∏–±—É—Ç.
    
- üîç –ï—Å–ª–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∑–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–º, —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `name` –≤–º–µ—Å—Ç–æ `url` –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å [[Eureka|—Å–µ—Ä–≤–∏—Å-–¥–∏—Å–∫–∞–≤–µ—Ä–∏]].
    
- üèé –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Feign –¥–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –±–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–∞–π–º–∞—É—Ç–æ–≤ ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.
    

---

### üìä **–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ**

```
[Your Service] --> [FeignClient Interface] --> [HTTP Request] --> [Remote Service]
```

---

### üíº **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ**

1. **–ü—Ä–æ—Å—Ç–æ–π –≤—ã–∑–æ–≤ –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞**
    
    ```java
    @RestController
    public class UserController {
        private final UserClient userClient;
    
        public UserController(UserClient userClient) {
            this.userClient = userClient;
        }
    
        @GetMapping("/get-user/{id}")
        public UserDto getUser(@PathVariable Long id) {
            return userClient.getUserById(id); // –≤—ã–∑—ã–≤–∞–µ–º –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ Feign
        }
    }
    ```
    
    ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –¥—Ä—É–≥–æ–º—É —Å–µ—Ä–≤–∏—Å—É —á–µ—Ä–µ–∑ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.
    
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ–ª–±—ç–∫–∞**
    
    ```java
    @FeignClient(name = "user-service", fallback = UserClientFallback.class)
    public interface UserClient { 
        @GetMapping("/users/{id}")
        UserDto getUserById(@PathVariable("id") Long id);
    }
    
    @Component
    public class UserClientFallback implements UserClient {
        @Override
        public UserDto getUserById(Long id) {
            return new UserDto(); // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞
        }
    }
    ```
    
    ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Å–±–æ—è—Ö –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.
    
3. **–ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–∞–π–º–∞—É—Ç–æ–≤**
    
    ```java
    @Configuration
    public class FeignConfig {
        @Bean
        public Request.Options options() {
            return new Request.Options(5000, 30000); // connect timeout 5s, read timeout 30s
        }
    }
    ```
    
    ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏.
    

---

### üéØ **–¢–∏–ø–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ (—Å –æ—Ç–≤–µ—Ç–∞–º–∏)**

1. ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ `@FeignClient`?  
    üëâ [[Spring Cloud|–§—Ä–µ–π–º–≤–æ—Ä–∫]] –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è [[Declarative REST Client|–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã—Ö HTTP-–∫–ª–∏–µ–Ω—Ç–æ–≤]] —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ [[Java|Java]].
    
2. ‚ùì –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å Feign –≤ –ø—Ä–æ–µ–∫—Ç–µ Spring Boot?  
    üëâ –ß–µ—Ä–µ–∑ `@EnableFeignClients` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    
3. ‚ùì –ß–µ–º Feign –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç [[RestTemplate|RestTemplate]]?  
    üëâ Feign ‚Äî –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, RestTemplate —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤.
    
4. ‚ùì –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ñ–æ–ª–±—ç–∫?  
    üëâ –î–∞, —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç `fallback` –∏–ª–∏ `fallbackFactory`.
    
5. ‚ùì –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –∏ retry?  
    üëâ –ß–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `configuration` –∏ –±–∏–Ω `Request.Options`.
    
6. ‚ùì –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Feign —Å —Å–µ—Ä–≤–∏—Å-–¥–∏—Å–∫–∞–≤–µ—Ä–∏?  
    üëâ –î–∞, —É–∫–∞–∑—ã–≤–∞—è `name` —Å–µ—Ä–≤–∏—Å–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—è —Å [[Eureka|Eureka]] –∏–ª–∏ –¥—Ä—É–≥–∏–º discovery.
    
7. ‚ùì –ö–∞–∫–∏–µ HTTP-–º–µ—Ç–æ–¥—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è?  
    üëâ –í—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ: GET, POST, PUT, DELETE –∏ –¥—Ä., —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ Spring MVC (`@GetMapping`, `@PostMapping` –∏ —Ç.–¥.).
    
8. ‚ùì –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–∏—Å–∞?  
    üëâ –ß–µ—Ä–µ–∑ `fallback` –∏–ª–∏ `ErrorDecoder` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Feign.
    
9. ‚ùì –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Feign –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤?  
    üëâ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ. –î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ë—Ä—Ç–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å `CompletableFuture`.
    
10. ‚ùì –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ –±–µ–∑ —Ñ–æ–ª–±—ç–∫–∞?  
    üëâ Feign –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `FeignException`, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.
    

---

### üîó **–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã**

- [[Spring Cloud|Spring Cloud]]
    
- [[Declarative REST Client|–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π REST-–∫–ª–∏–µ–Ω—Ç]]
    
- [[Ribbon|Ribbon]]
    
- [[Hystrix|Hystrix]]
    
- [[Eureka|Eureka]]
    

---

### üè∑ **–¢–µ–≥–∏**

#java #frameworks #interview #spring-cloud