### üßæ **@Query**

**–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:** –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Query` –ø–æ–∑–≤–æ–ª—è–µ—Ç **–≤—Ä—É—á–Ω—É—é –∑–∞–¥–∞—Ç—å SQL –∏–ª–∏ JPQL-–∑–∞–ø—Ä–æ—Å** –≤ –º–µ—Ç–æ–¥–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –µ—Å–ª–∏ Spring Data JPA –Ω–µ –º–æ–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

### ‚öôÔ∏è **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

- –ö–æ–≥–¥–∞ –º–µ—Ç–æ–¥ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–µ–Ω –¥–ª—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (`findByNameAndAgeLessThan`)
    
- –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω `JOIN`, `GROUP BY`, –ø–æ–¥–∑–∞–ø—Ä–æ—Å –∏–ª–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è
    
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å **–Ω–∞—Ç–∏–≤–Ω—ã–π SQL** (—á–µ—Ä–µ–∑ `nativeQuery = true`)
    

---

### üìå **–ü—Ä–∏–º–µ—Ä —Å JPQL**

```java
public interface UserRepository extends JpaRepository<User, Long> {

    @Query("SELECT u FROM User u WHERE u.age > :age")
    List<User> findUsersOlderThan(@Param("age") int age);
}
```

üìç –ó–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **JPQL** (Java Persistence Query Language), –≥–¥–µ `User` ‚Äî –∏–º—è Entity, –∞ –Ω–µ —Ç–∞–±–ª–∏—Ü—ã.

---

### üßæ **–ü—Ä–∏–º–µ—Ä —Å –Ω–∞—Ç–∏–≤–Ω—ã–º SQL**

```java
@Query(value = "SELECT * FROM users WHERE email = :email", nativeQuery = true)
User findByEmail(@Param("email") String email);
```

üìç –ó–¥–µ—Å—å —É–∂–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ **—Ä–µ–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ** (`users`) –∏ –æ–±—ã—á–Ω—ã–π SQL.

---

### üß† **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

- `@Query` –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫ –º–µ—Ç–æ–¥–∞–º –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö —Å `@Repository`
    
- –ò—Å–ø–æ–ª—å–∑—É–π `@Param("...")` –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –º–µ—Ç–æ–¥–∞
    
- –ú–æ–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å DTO, Entity, –∫–æ–ª–ª–µ–∫—Ü–∏–∏, `Optional`
    

---

### üîó **–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã**

- [[@Repository]]
    
- [[@Param]]
    
- [[JPA]]
    
- [[Entity]]
    
- [[DTO]]
    
- [[@Transactional]]
    

---

#jpa #springdata #query #sql #repository