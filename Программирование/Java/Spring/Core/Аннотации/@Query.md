### üßæ **@Query**

**–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:** `@Query` –ø–æ–∑–≤–æ–ª—è–µ—Ç **–≤—Ä—É—á–Ω—É—é –∑–∞–¥–∞—Ç—å SQL –∏–ª–∏ JPQL-–∑–∞–ø—Ä–æ—Å** –≤ –º–µ—Ç–æ–¥–µ [[@Repository]], –µ—Å–ª–∏ Spring Data JPA –Ω–µ –º–æ–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

### ‚öôÔ∏è **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

- –°–ª–æ–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è –≤—ã—Ä–∞–∑–∏—Ç—å –º–µ—Ç–æ–¥–∞–º–∏ (`findByNameAndAgeLessThan`)
    
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `JOIN`, `GROUP BY`, –∞–≥—Ä–µ–≥–∞—Ü–∏–π
    
- –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω **–Ω–∞—Ç–∏–≤–Ω—ã–π SQL** (`nativeQuery = true`)
    
- –í–æ–∑–≤—Ä–∞—Ç –Ω–µ [[Entity]], –∞ [[DTO]]
    

---

### üìå **JPQL-–∑–∞–ø—Ä–æ—Å (–ø–æ –∏–º–µ–Ω–∏ [[Entity]])**

```java
@Query("SELECT u FROM User u WHERE u.age > :age")
List<User> findUsersOlderThan(@Param("age") int age);
```

üìç –ó–¥–µ—Å—å `User` ‚Äî —ç—Ç–æ [[Entity]]-–∫–ª–∞—Å—Å, –∞ –Ω–µ —Ç–∞–±–ª–∏—Ü–∞ –≤ –±–∞–∑–µ.

---

### üìå **–ù–∞—Ç–∏–≤–Ω—ã–π SQL (–ø–æ —Ç–∞–±–ª–∏—Ü–µ)**

```java
@Query(value = "SELECT * FROM users WHERE email = :email", nativeQuery = true)
User findByEmail(@Param("email") String email);
```

üìç –ó–¥–µ—Å—å `users` ‚Äî —ç—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –∏–∑ –±–∞–∑—ã, –∞ `email` ‚Äî –ø–æ–ª–µ —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ [[@Column]].

---

### üß† **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö —Å [[@Repository]]
    
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å `@Param` –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –º–µ—Ç–æ–¥–∞—Ö, –æ–±—ë—Ä–Ω—É—Ç—ã—Ö –≤ [[@Transactional]]
    
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, —Å–ø–∏—Å–∫–∞, [[Optional]] –∏–ª–∏ [[DTO]]
    

---

### üîó **–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã**

- [[@Repository]]
    
- [[Entity]]
    
- [[DTO]]
    
- [[@Column]]
    
- [[@Transactional]]
    

---

#spring #jpa #query #sql #repository