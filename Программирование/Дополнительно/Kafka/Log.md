# üìÑ **Log**

### üìù **–ß—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º –Ω—É–∂–Ω–æ**

Log ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∞—è —Å–æ–±–æ–π —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å [[–°–æ–æ–±—â–µ–Ω–∏—è|—Å–æ–æ–±—â–µ–Ω–∏–π]], –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ [[Kafka]] –∏ –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∏ –Ω–∞–¥—ë–∂–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –≤ [[Topic]].  
–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å: –æ–±–µ—Å–ø–µ—á–∏—Ç—å –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ [[–°–æ–æ–±—â–µ–Ω–∏—è|—Å–æ–æ–±—â–µ–Ω–∏–π]] –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

---

### ‚ö° **–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

- üìç –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å ‚Äî –Ω–æ–≤—ã–µ [[—Å–æ–æ–±—â–µ–Ω–∏—è]] –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü –ª–æ–≥–∞.
    
- üîë –°–º–µ—â–µ–Ω–∏—è ([[offset]]) ‚Äî –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –≤ —Ä–∞–º–∫–∞—Ö [[Partition]].
    
- ‚ûï –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —á—Ç–µ–Ω–∏–µ ‚Äî –¥–æ—Å—Ç—É–ø –∫ [[–°–æ–æ–±—â–µ–Ω–∏—è|—Å–æ–æ–±—â–µ–Ω–∏—è–º]] –ø–æ —Å–º–µ—â–µ–Ω–∏—é.
    
- ‚ûñ –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è ([[log retention]]) –∏–ª–∏ —Ä–∞–∑–º–µ—Ä—É.
    
- üîÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ ([[Segment]]) –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è.
    
- üö´ –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å —É–∂–µ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ [[—Å–æ–æ–±—â–µ–Ω–∏—è]].
    

---

### üìå **–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞**

```java
// –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ –ª–æ–≥–∞ –≤ Java
import java.util.ArrayList; // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–ø–∏—Å–æ–∫ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
import java.util.List; // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–ø–∏—Å–∫–∞

public class LogExample { // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–ª–∞—Å—Å –ø—Ä–∏–º–µ—Ä–∞
    private List<String> log = new ArrayList<>(); // –•—Ä–∞–Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Å–ø–∏—Å–∫–µ

    public void append(String message) { // –ú–µ—Ç–æ–¥ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
        log.add(message); // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω–µ—Ü
    }

    public String read(int offset) { // –ß–∏—Ç–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ —Å–º–µ—â–µ–Ω–∏—é
        return log.get(offset); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É
    }

    public static void main(String[] args) { // –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
        LogExample log = new LogExample(); // –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç
        log.append("–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"); // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å
        log.append("–í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"); // –î–æ–±–∞–≤–ª—è–µ–º –µ—â—ë –æ–¥–Ω—É –∑–∞–ø–∏—Å—å
        System.out.println(log.read(0)); // –ß–∏—Ç–∞–µ–º –ø–µ—Ä–≤—É—é –∑–∞–ø–∏—Å—å
    }
}
```

---

### üß† **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏**

- ‚ùó –õ–æ–≥ –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞, –µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω [[retention policy]].
    
- üì¶ –•—Ä–∞–Ω–∏—Ç—Å—è –≤ –≤–∏–¥–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ ([[Segment]]), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞–∑–º–µ—Ä–æ–º.
    
- üîç –î–æ—Å—Ç—É–ø –∫ —Å–æ–æ–±—â–µ–Ω–∏—è–º —Ç–æ–ª—å–∫–æ –ø–æ [[offset]], –Ω–µ—Ç –ø–æ–∏—Å–∫–∞ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É.
    
- üèé –û–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∏ —á—Ç–µ–Ω–∏—è.
    

---

### üìä **–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ**

```
Log (Partition)
------------------------------------------------
Offset: 0 | –°–æ–æ–±—â–µ–Ω–∏–µ A
Offset: 1 | –°–æ–æ–±—â–µ–Ω–∏–µ B
Offset: 2 | –°–æ–æ–±—â–µ–Ω–∏–µ C
...
```

---

### üíº **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ**

1. **–ó–∞–ø–∏—Å—å —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ª–æ–≥**
    
    ```java
    log.append("OrderCreated"); // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
    ```
    
    ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∫–æ–Ω–µ—Ü –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
    
2. **–ß—Ç–µ–Ω–∏–µ –ø–æ —Å–º–µ—â–µ–Ω–∏—é**
    
    ```java
    String msg = log.read(1); // –ß–∏—Ç–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å offset = 1
    ```
    
    ‚úÖ –ö–æ–Ω—Å—É–º–µ—Ä –º–æ–∂–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω—É–∂–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
    
3. **–ü–µ—Ä–µ–º–æ—Ç–∫–∞ –∫–æ–Ω—Å—É–º–µ—Ä–∞**
    
    ```java
    consumer.seek(new TopicPartition("orders", 0), 0); // –ß—Ç–µ–Ω–∏–µ —Å –Ω–∞—á–∞–ª–∞ –ª–æ–≥–∞
    ```
    
    ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–Ω–æ–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ —Å–æ–±—ã—Ç–∏—è.
    

---

### üéØ **–¢–∏–ø–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ (—Å –æ—Ç–≤–µ—Ç–∞–º–∏)**

1. ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ Log –≤ Kafka?  
    üëâ –≠—Ç–æ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å [[—Å–æ–æ–±—â–µ–Ω–∏–π]], —Ö—Ä–∞–Ω—è—â–∞—è—Å—è –≤ [[Partition]].
    
2. ‚ùì –ö–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ª–æ–≥–µ?  
    üëâ –° –ø–æ–º–æ—â—å—é —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ [[offset]].
    
3. ‚ùì –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ª–æ–≥–µ?  
    üëâ –ù–µ—Ç, –ª–æ–≥ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.
    
4. ‚ùì –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –ª–æ–≥–∞?  
    üëâ –ü–æ [[retention policy]]: –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ —Ä–∞–∑–º–µ—Ä—É.
    
5. ‚ùì –ó–∞—á–µ–º –ª–æ–≥ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã?  
    üëâ –ß—Ç–æ–±—ã –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –∏ —É—Å–∫–æ—Ä–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.
    
6. ‚ùì –ú–æ–∂–Ω–æ –ª–∏ —á–∏—Ç–∞—Ç—å –ª–æ–≥ —Å –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞?  
    üëâ –î–∞, –∫–æ–Ω—Å—É–º–µ—Ä –º–æ–∂–µ—Ç —É–∫–∞–∑–∞—Ç—å —Å–º–µ—â–µ–Ω–∏–µ –∏ –Ω–∞—á–∞—Ç—å —á—Ç–µ–Ω–∏–µ.
    
7. ‚ùì –ß–µ–º –ª–æ–≥ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö?  
    üëâ –õ–æ–≥ ‚Äî —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π, –±–µ–∑ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
    
8. ‚ùì –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–µ–≥–º–µ–Ω—Ç–∞?  
    üëâ –°–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π [[Segment]], —Å—Ç–∞—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª—ë–Ω –ø–æ –ø–æ–ª–∏—Ç–∏–∫–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è.
    
9. ‚ùì –ü–æ—á–µ–º—É –ª–æ–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏?  
    üëâ –ü–æ—Ç–æ–º—É —á—Ç–æ –∑–∞–ø–∏—Å–∏ –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü –∏ —á–∏—Ç–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
    
10. ‚ùì –ö–∞–∫ –ª–æ–≥ —Å–≤—è–∑–∞–Ω —Å —Ç–æ–ø–∏–∫–æ–º?  
    üëâ –ö–∞–∂–¥—ã–π [[Topic]] —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –æ–¥–Ω–æ–π –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö [[Partition]], –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö ‚Äî —ç—Ç–æ –ª–æ–≥.
    

---

### üîó **–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã**

- [[Kafka]]
    
- [[Topic]]
    
- [[Partition]]
    
- [[Segment]]
    
- [[Offset]]
    
- [[Retention policy]]
    

---

### üè∑ **–¢–µ–≥–∏**

#java #streaming #interview #datastructures