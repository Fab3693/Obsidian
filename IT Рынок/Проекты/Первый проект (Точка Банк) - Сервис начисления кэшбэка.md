# Описание проекта (30 слов)

Сервис начисления кэшбэка для клиентов Точки Банка: рассчитывает и начисляет кэшбэк в реальном времени, обрабатывает транзакции, управляет бизнес-правилами и интеграцией с платёжными и аналитическими системами, с поддержкой правил на лету.

# Технологический стек (с версиями)

- Java 11 (OpenJDK 11)
    
- Spring Boot 2.5.12
    
- Spring Framework / Spring MVC 5.3.x
    
- Spring Data JPA 2.5.x
    
- Hibernate ORM 5.4.x
    
- PostgreSQL 13 (psql / JDBC драйвер 42.2.23)
    
- Apache Kafka 2.8.0 (kafka-clients)
    
- JUnit 5.7.2, Mockito 3.11.2
    
- MapStruct 1.4.2, Lombok 1.18.20
    
- Flyway 7.11.2 (миграции БД)
    
- Spring WebFlux / WebClient 5.3.x (для асинхронных внешних вызовов)
    
- Logback 1.2.3, SLF4J
  
# Достижения
1. Разработал "Планировщик промо-компаний", который позволил запускать и останавливать кампании по расписанию без релиза кода, что сократило ручные операции маркетинга.

2. Реализовал кэшбэк с ограничением по MCC/merchant — поддержал набор исключений и приоритетов правил по MCC и merchant идентификатору для гибкой настройки правил для крупных партнёров.

3. Реализовал защиту бюджета кампаний через распределённый счётчик в Redis для контроля лимитов по кампании/мерчанту, что предотвратило перерасходование бюджета у крупных кампаний.

4. Реализовал split payout: распределение cashback по правилам (например, 70/30), Kafka-события с идемпотентностью.

5. Реализовал «Повторный платёж / подписки» — детекция подписочных транзакций, планировщик батчей для расчёта (Spring Scheduler) + асинхронная публикация событий в Kafka, что автоматизировало подписки и снизило ручные начисления.

6. Внедрил Redis-кэш для балансов и идемпотентности, добавил TTL и инвалидирование, снизив нагрузку на базу.

7. Улучшил архитектуру: выделил доменный слой, внедрил DTO и валидацию, рефакторинг сервисов, сократил технический долг.